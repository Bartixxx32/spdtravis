
sudo: required

dist: trusty

language: bash

script:

- wget http://oxygenos.oneplus.net.s3.amazonaws.com/OnePlus5TOxygen_43_OTA_013_all_1805241623_307e5a9d38ed49fe.zip -O one.zip

- unzip one.zip

- sudo rm -r one.zip

- wget https://raw.githubusercontent.com/xpirt/sdat2img/master/sdat2img.py

- chmod +x *

- ./sdat2img.py system.transfer.list system.new.dat

- mkdir output

- sudo mount -t ext4 -o loop system.img output/

- sudo rm -r system.new.dat

- mkdir zip

- cd output

- sudo mv * ../zip

- cd ..

- cd zip

- sudo rm -r app/Chrome/Chrome.apk

- cd app/Chrome

- sudo touch "removed +100mb.txt"

- cd ../..

- sudo zip -r file.zip -s 1000m *

- echo .

- echo .

- echo .

- echo .

- echo .

- curl --upload-file ./file.zip https://transfer.sh/file.zip

- curl --upload-file ./file.z01 https://transfer.sh/file.z01

- md5sum file.zip

- md5sum file.z01

- echo .

- echo .

- echo .

- echo .

- echo .

- echo done


addons:

  apt:

    packages:

    - zip

    - unzip

    - ncftp

    - p7zip-full

    


notifications:

  webhooks: https://fathomless-fjord-24024.herokuapp.com/notify

